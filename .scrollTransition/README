struct ContentView: View {
    var body: some View {
        ScrollView {
            LazyVStack(spacing: -20) {
                ForEach(0..<20) { index in
                    CardView(index: index)
                        .scrollTransition { effect, phase in
                            effect
                                .opacity(phase.isIdentity ? 1 : 0)
                                .scaleEffect(phase.isIdentity ? 1 : 0.3)
                                .blur(radius: phase.isIdentity ? 0 : 10)
                                .offset(x: offset(for: phase))
                                
                        }
                }
            }
            .padding()
        }
    }
    nonisolated func offset(for phase: ScrollTransitionPhase) -> Double {
        switch phase {
        case .topLeading:
            -200
        case .identity:
            0
        case .bottomTrailing:
            0
        }
    }
}
